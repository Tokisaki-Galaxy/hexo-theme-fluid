/*此为minjs，原脚本github:https://github.com/Tokisaki-Galaxy/TrymenT-ClocK*/const symbols=["Ⅻ","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ"],specialSymbols=["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","OVERLAY_CHAR"].reverse();function initialize(){createBackgroundLayer();let e=document.querySelector(".clock-container");if(!e){e=document.createElement("div"),e.className="clock-container",document.body.appendChild(e);const t=document.createElement("div");t.className="clock",e.appendChild(t);const n=document.createElement("div");n.className="date-display";const o=document.createElement("div");o.className="date-label",o.textContent="What'S ThE DatE";const l=document.createElement("div");l.className="date-value",l.id="current-date",n.appendChild(o),n.appendChild(l),e.appendChild(n)}window.clock=document.querySelector(".clock"),createClockElements(),injectBackgroundImage(),adjustClockSize(),updateClock(),setInterval(updateClock,500),e.style.zIndex="-2",createOverlayLayer(),setupExternalContainer(),console.log("Welcome to Tryment Clock")}function setupExternalContainer(){const e=document.getElementById("board");e&&function e(t){if("SPAN"===t.tagName&&"Fluid"===t.textContent.trim())return!0;for(let n of t.children)if(e(n))return!0;return!1}(document.querySelector("footer"))?e.style.opacity="0.9":setTimeout((()=>{const e=document.getElementById("board");e&&(e.style.opacity="0.9")}),3e3)}function createClockElements(){for(let e=0;e<60;e++){const t=6*e*(Math.PI/180),n=194*Math.sin(t)+200,o=-194*Math.cos(t)+200,l=document.createElement("div");l.className="tick-mark",l.style.height="6px",l.style.left=`${n}px`,l.style.top=`${o}px`,l.style.transform=`translate(-50%, -100%) rotate(${6*e}deg)`,clock.appendChild(l)}const e=document.createElement("div");e.className="circle-dial",e.style.width="301px",e.style.height="301px",clock.appendChild(e);const t=document.createElement("div");t.className="circle-dial",t.style.width="321px",t.style.height="321px",clock.appendChild(t);for(let e=0;e<60;e++){const t=6*e*(Math.PI/180),n=150*Math.sin(t)+200,o=-150*Math.cos(t)+200;if(e%5==0){const t=document.createElement("div");t.style.position="absolute",t.style.width="8px",t.style.height="20px",t.style.backgroundColor=45===e?"#c1ff00":"#88a4c3",t.style.left=`${n}px`,t.style.top=`${o}px`,t.style.transform=`translate(-50%, -50%) rotate(${6*e+180}deg)`,t.style.transformOrigin="50% 50%",t.style.clipPath="polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",clock.appendChild(t)}else{const t=document.createElement("div");t.className="tick-mark",t.style.height="9.5px",t.style.left=`${n}px`,t.style.top=`${o}px`,t.style.transform=`translate(-50%, -100%) rotate(${6*e}deg)`,clock.appendChild(t)}}return createRotatingContainers()}function createRotatingContainers(){const e=document.createElement("div");e.className="rotating-container roman-container",e.style.position="absolute",e.style.width="260px",e.style.height="260px",e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%, -50%)",clock.appendChild(e);const t=document.createElement("div");return t.className="rotating-container greek-container",t.style.position="absolute",t.style.width="360px",t.style.height="360px",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%, -50%)",clock.appendChild(t),createSymbolMarkers(e,symbols,130,30),createSpecialSymbolMarkers(t,specialSymbols,180,14.4),{romanContainer:e,greekContainer:t}}function createSymbolMarkers(e,t,n,o){t.forEach(((t,l)=>{const s=l*o*(Math.PI/180),a=n*Math.sin(s)+n,r=-n*Math.cos(s)+n,c=document.createElement("div");c.className="marker",c.textContent=t,c.style.fontSize="30px",c.style.position="absolute",c.style.left=a-20+"px",c.style.top=r-12+"px",c.style.transform=`rotate(${l*o}deg)`,c.style.transformOrigin="20px 12px",e.appendChild(c)}))}function createSpecialSymbolMarkers(e,t,n,o){t.forEach(((t,l)=>{const s=l*o*(Math.PI/180),a=n*Math.sin(s)+n,r=-n*Math.cos(s)+n,c=document.createElement("div");if(c.className="marker",c.style.position="absolute",c.style.left=a-20+"px",c.style.top=r-12+"px",c.style.transform=`rotate(${l*o}deg)`,c.style.transformOrigin="20px 12px","OVERLAY_CHAR"===t){c.style.width="40px",c.style.height="24px",c.style.display="flex",c.style.justifyContent="center",c.style.alignItems="center";const e=document.createElement("span");e.textContent="☩",e.style.position="absolute",e.style.fontSize="24px",e.style.zIndex="2";const t=document.createElement("span");t.textContent="○",t.style.position="absolute",t.style.fontSize="24px",t.style.zIndex="1",c.appendChild(e),c.appendChild(t)}else c.textContent=t;e.appendChild(c)}))}function injectBackgroundImage(){const e=document.querySelector(".clock-container"),t=document.querySelector(".date-display"),n=document.createElement("img");n.className="background-image",n.src="/img/img.png",n.onerror=function(){n.src="https://img.picui.cn/free/2025/02/26/67bec9b40a4f6.png"},e.insertBefore(n,t)}function updateClock(){const e=new Date,t=e.getHours()%12,n=e.getMinutes(),o=e.getSeconds(),l=document.querySelector(".roman-container"),s=document.querySelector(".greek-container"),a=270-30*t,r=6*n+.1*o+270;l.style.transform=`translate(-50%, -50%) rotate(${a}deg)`,s.style.transform=`translate(-50%, -50%) rotate(${r}deg)`;const c=document.getElementById("current-date"),i=["JanuarY","FebruarY","MarcH","ApriL","MaY","JunE","JulY","AugusT","SeptembeR","OctobeR","NovembeR","DecembeR"][e.getMonth()],d=e.getDate(),m=(e.getFullYear()+10).toString().substring(2);c.textContent=`${i} ${d}, 20${m}`}function adjustClockSize(){const e=window.innerWidth,t=window.innerHeight,n=Math.min(e/300,t/200),o=document.querySelector(".clock-container");o.style.transform=`scale(${n})`,o.style.position="fixed",o.style.right="-10%",o.style.top="50%",o.style.transformOrigin="center center",o.style.marginTop="-200px",o.style.width="400px",o.style.height="400px",setupClockContainer(o)}function setupClockContainer(e){if(!document.getElementById("clock")){const t=document.createElement("div");t.id="clock",t.style.width="100%",t.style.height="100%",t.style.position="relative",e.appendChild(t);document.querySelectorAll(".clock-container > div:not(#clock)").forEach((e=>{t.appendChild(e)}))}const t=document.querySelector(".date-display");t.style.position="absolute",t.style.right="45%",t.style.top="48%",t.style.transform="scale(0.5)",t.style.transformOrigin="top"}function createBackgroundLayer(){const e=window.innerWidth,t=window.innerHeight,n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg");o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("id","background-layer"),o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.zIndex="-999",o.style.backgroundColor="#000000";const l=document.createElementNS(n,"rect");return l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill","#000000"),o.appendChild(l),document.body.insertBefore(o,document.body.firstChild),o}function createOverlayLayer(){const e=window.innerWidth,t=window.innerHeight,n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg");o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("id","overlay-layer"),o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.zIndex="-1",o.style.pointerEvents="none";const l=document.createElementNS(n,"rect");return l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill","#fff"),l.setAttribute("opacity","0.4"),o.appendChild(l),document.body.appendChild(o),o}document.addEventListener("DOMContentLoaded",initialize),window.addEventListener("resize",adjustClockSize);